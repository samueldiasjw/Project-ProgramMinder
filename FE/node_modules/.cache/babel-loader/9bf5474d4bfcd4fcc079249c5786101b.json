{"ast":null,"code":"var _jsxFileName = \"/Users/samueldias/Desktop/MyProjectMindera/src/homepage/Components/CreateThread.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Jumbotron, Container, Image } from \"react-bootstrap\";\nimport styles from \"../CSS/Posts.module.css\";\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport parse from \"html-react-parser\";\nimport NotAccess from \"./NotAccess\";\nexport default function Posts() {\n  const {\n    id\n  } = useParams();\n  const [posts, setPosts] = useState([]);\n  const [thread, setThread] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [editorDeTexto, setEditorDeTexto] = useState(\"\");\n\n  function sendThread(e) {\n    e.preventDefault();\n    console.log(text);\n    var postHeader = new Headers();\n    postHeader.append(\"Content-Type\", \"application/json\");\n    postHeader.append(\"Authorization\", document.cookie.split(\"token=\")[1]);\n    var raw = JSON.stringify({\n      \"post\": text,\n      \"userId\": 1,\n      \"threadId\": id\n    });\n    var postRequestOptions = {\n      method: 'POST',\n      headers: postHeader,\n      body: raw,\n      redirect: 'follow'\n    };\n    fetch(\"http://localhost:8080/posts\", postRequestOptions).then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n  }\n\n  function quote(myString) {\n    editorDeTexto.setData(\"<blockquote><p>\" + myString + \"</p></blockquote><p>&nbsp;</p>\");\n    setText(\"<blockquote><p>\" + myString + \"</p></blockquote><p>&nbsp;</p>\");\n  }\n\n  return /*#__PURE__*/React.createElement(Jumbotron, {\n    id: \"about\",\n    className: styles.Jumbotron,\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, document.cookie.split(\"token=\")[1] ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Us,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Create Thread\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.richtext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CKEditor, {\n    editor: ClassicEditor,\n    data: \"<p>Write your reply...</p>\",\n    onReady: editor => {\n      console.log(editor.ui.view.toolbar);\n      setEditorDeTexto(editor);\n    },\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setText(data);\n    },\n    onFocus: (event, editor) => {\n      const data = editor.getData();\n\n      if (data === \"<p>Write your reply...</p>\") {\n        editor.setData(\"\");\n        setText(\"\");\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: styles.createButton,\n    onClick: sendThread,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"+ Post\"))) : /*#__PURE__*/React.createElement(NotAccess, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.lineGrade,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/samueldias/Desktop/MyProjectMindera/src/homepage/Components/CreateThread.js"],"names":["React","useEffect","useState","useParams","Link","Jumbotron","Container","Image","styles","CKEditor","ClassicEditor","parse","NotAccess","Posts","id","posts","setPosts","thread","setThread","users","setUsers","text","setText","editorDeTexto","setEditorDeTexto","sendThread","e","preventDefault","console","log","postHeader","Headers","append","document","cookie","split","raw","JSON","stringify","postRequestOptions","method","headers","body","redirect","fetch","then","response","result","catch","error","quote","myString","setData","card","heading","Us","richtext","editor","ui","view","toolbar","event","data","getData","createButton","lineGrade"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Jumbotron, Container, Image} from \"react-bootstrap\";\nimport styles from \"../CSS/Posts.module.css\";\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport parse from \"html-react-parser\";\n\nimport NotAccess from \"./NotAccess\"\n\n\nexport default function Posts() {\n  const { id } = useParams();\n  const [posts, setPosts] = useState([]);\n  const [thread, setThread] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [text, setText] = useState(\"\");\n\n\n  const [editorDeTexto, setEditorDeTexto] = useState(\"\");\n\n\n  function sendThread(e) {\n    e.preventDefault();\n\n    console.log(text);\n\n    var postHeader = new Headers();\n    postHeader.append(\"Content-Type\", \"application/json\");\n    postHeader.append(\"Authorization\", document.cookie.split(\"token=\")[1]);\n    \n    var raw = JSON.stringify({\"post\": text,\"userId\":1,\"threadId\":id});\n    \n    var postRequestOptions = {\n      method: 'POST',\n      headers: postHeader,\n      body: raw,\n      redirect: 'follow'\n    };\n    \n    fetch(\"http://localhost:8080/posts\", postRequestOptions)\n      .then(response => response.text())\n      .then(result => console.log(result))\n      .catch(error => console.log('error', error));\n  }\n\n  function quote(myString){\n    editorDeTexto.setData(\"<blockquote><p>\" + myString + \"</p></blockquote><p>&nbsp;</p>\");\n    setText(\"<blockquote><p>\" + myString + \"</p></blockquote><p>&nbsp;</p>\");\n  }\n\n  return (\n    <Jumbotron id=\"about\" className={styles.Jumbotron} fluid>\n      <Container>\n        {document.cookie.split(\"token=\")[1] ?\n          <div className={styles.card}>\n          <h1 className={styles.heading}>\n            <span className={styles.Us}>Create Thread</span>\n          </h1>\n\n            <div className = {styles.richtext}>\n              <CKEditor\n                      editor={ ClassicEditor }\n                      data=\"<p>Write your reply...</p>\"\n                      onReady={ editor => {\n                        console.log(editor.ui.view.toolbar);\n                        setEditorDeTexto(editor);\n                      }}\n                      onChange={ ( event, editor ) => {\n                        const data = editor.getData();\n\n                        setText(data)\n                      } }\n                      onFocus={ ( event, editor ) => {\n                          const data = editor.getData();\n\n                          if(data === \"<p>Write your reply...</p>\"){\n                            editor.setData(\"\");\n                            setText(\"\")\n                          }\n                      } }\n              />\n              <a href = \"#\" className = {styles.createButton} onClick={sendThread}>\n                + Post\n              </a>\n            </div>\n        </div> : <NotAccess/>\n        }\n        \n      </Container>\n      <div className={styles.lineGrade} ></div>\n    </Jumbotron>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}